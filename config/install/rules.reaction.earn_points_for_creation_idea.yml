langcode: en
status: true
dependencies: {  }
id: earn_points_for_creation_idea
label: 'Earn points for creation an idea'
events:
  -
    event_name: 'rules_entity_update:node--idea'
description: ''
tags: {  }
config_version: '3'
expression:
  id: rules_rule
  uuid: f4d0ac3f-861a-4e2a-8b99-3ae9d3d29188
  weight: 0
  conditions:
    id: rules_and
    uuid: c2d4e27b-ce9e-4604-be1c-4d97d41cdb57
    weight: 0
    conditions:
      -
        id: rules_condition
        uuid: 274a8652-d935-42cf-8bd2-44aa17b2cff1
        weight: 0
        context_values: {  }
        context_mapping:
          entity: node
        context_processors: {  }
        provides_mapping: {  }
        condition_id: openideal_entity_is_moderated
        negate: false
      -
        id: rules_condition
        uuid: e9f3d183-2b4b-4319-b048-aacb6500ddba
        weight: 0
        context_values: {  }
        context_mapping:
          idea_id: node.nid.value
        context_processors: {  }
        provides_mapping: {  }
        condition_id: 'openideal_idea_state:ideation'
        negate: false
  actions:
    id: rules_action_set
    uuid: 3f75c70a-2201-4fa2-9c1d-84cac5d6c80a
    weight: 0
    actions:
      -
        id: rules_action
        uuid: d28e11cc-ba7f-4956-be74-c1fcecfeda1d
        weight: 0
        context_values:
          type: user
        context_mapping:
          entity_id: node.uid.target_id
        context_processors:
          type:
            rules_tokens: {  }
        provides_mapping: {  }
        action_id: rules_entity_fetch_by_id
      -
        id: rules_action
        uuid: 19436b98-441e-4634-80b3-247cabbeca60
        weight: 0
        context_values:
          transaction_type_id: user_points
          operation_id: earn_points_on_idea_create
          transaction_field_amount: '10'
          transaction_field_balance: '0'
          transaction_field_log_message: ''
        context_mapping:
          target_entity: entity_fetched
        context_processors:
          transaction_type_id:
            rules_tokens: {  }
          operation_id:
            rules_tokens: {  }
          transaction_field_amount:
            rules_tokens: {  }
          transaction_field_balance:
            rules_tokens: {  }
          transaction_field_log_message:
            rules_tokens: {  }
        provides_mapping: {  }
        action_id: 'transaction_create:userpoints'
      -
        id: rules_action
        uuid: 92ae83e8-574d-468e-b865-4584342ee059
        weight: 0
        context_values:
          immediate: 'TRUE'
        context_mapping:
          transaction: transaction
        context_processors:
          immediate:
            rules_tokens: {  }
        provides_mapping: {  }
        action_id: transaction_execute
